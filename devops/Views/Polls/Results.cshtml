@model DevOpsPollApp.ViewModels.PollResultsViewModel
@{
    ViewData["Title"] = "Результаты";
}

<div class="page-center">
    <div class="card">
        <div class="card-header">
            <h2 class="card-title center-text">Результаты</h2>
            <p class="card-subtitle center-text">@Model.Title</p>
        </div>
        <hr class="divider" />
        <div class="card-body">
            <div class="center-text" style="color: rgba(255,255,255,.82); font-weight: 900;">
                Всего голосов: @Model.TotalVotes
            </div>

            <div style="height: 14px;"></div>

            <table class="table">
                <thead>
                    <tr>
                        <th>Вариант</th>
                        <th>Голоса</th>
                        <th>Доля</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var row in Model.Rows)
                    {
                        <tr>
                            <td style="font-weight:900;">@row.OptionText</td>
                            <td>@row.Votes</td>
                            <td style="min-width:260px;">
                                <div class="progress" aria-label="@row.Percentage%">
                                    <div style="width:@row.Percentage%"></div>
                                </div>
                                <div style="margin-top:6px; color: rgba(255,255,255,.78); font-size:13px;">@row.Percentage %</div>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>

            <div class="actions" style="margin-top:14px;">
                <a class="btn btn-primary" href="/p/@Model.PublicId">Назад к опросу</a>
                <a class="btn btn-ghost" asp-action="Index" asp-controller="Polls">Все опросы</a>
            </div>
        </div>
    </div>
</div>
